# Задание 1. Анализ потоков данных

**Диаграммы потоков данных (AsIs)**
 - Запись пациентов
    [Ссылка на схему](https://github.com/noisegrind3r/architecture-sprint-10/blob/sprint_10/Task1/Запись_пациентов_AsIs.png)

  обрабатываются персональные данные: ФИО, дата рождения, телефон, email, адрес, паспортные данные.

 - Оплата услуг
    [Ссылка на схему](https://github.com/noisegrind3r/architecture-sprint-10/blob/sprint_10/Task1/Оплата_услуг_AsIs.png)

  обрабатываются финансовые данные: платежи, договоры, реквизиты

 - Лабораторные анализы
    [Ссылка на схему](https://github.com/noisegrind3r/architecture-sprint-10/blob/sprint_10/Task1/Лабораторные_анализы_AsIs.png)

  обрабатываются медицинские данные: диагнозы, анализы, история болезней, назначения.

 - Учет ТМЦ
    [Ссылка на схему](https://github.com/noisegrind3r/architecture-sprint-10/blob/sprint_10/Task1/Учет_ТМЦ_AsIs.png)

  обрабатываются финансовые данные: платежи, договоры, реквизиты

**Список проблемных зон**
  - Все персональные и медицинские данные доступны всем сотрудникам компании
  - Все персональные и медицинские данные имеют слабую защиту данных, не шифруются, высокие риски утечки
  - Нет аудита данных. Неизвестно, кто создавал, менял, удалял данные.
  - Работа с конфиденциальными данными не соответствует законодательству РФ (нет возможности удаления личных данных по запросу)
  - Передача данных между системами происходит без защиты
  - Возможно собираемые данные избыточны, собирать и хранить информацию об адресе прописки, месте работы или учёбы нецелесообразно.

**Улучшения**
  - При работе с конфиденциальными данными добавить модель RBAC - каждый пользователь видит доступные только его роли данные: (специалист ресепшена видит только данные пациентов, медицинский персонал видит только медицинскую информацию, бухгалтер только финансовую информацию)
  - Ввести тэгирование данные. Возможные тэги:
    - PII - персональные данные
    - PHI - медицинские данные
    - FIN - финансовые данные
    - PUB - неконфиденциальные данные
    - ATH - учетные данные сотрудников компании
  - Способы защиты данных
    - персональные данные; способ защиты: шифрование, обезличивание при передаче в другие системы; возможные инструменты: pgcrypto для шифрования, Debezium для обезличивания
    - персональные данные; способ защиты: шифрование; возможные инструменты: pgcrypto для шифрования
    - финансовые данные; способ защиты: шифрование, обезличивание; возможные инструменты: pgcrypto для шифрования, Debezium для обезличивания
    - учетные данные; способ защиты: двухфакторная аутентификация, ротация паролей; возможные инструменты: Vault, Google Authenticator
    - при передачи данных между системами использовать протокол шифрования TLS версии 1.2 или выше
 

**Диаграммы потоков данных (ToBe)**


 - Запись пациентов
    [Ссылка на схему](https://github.com/noisegrind3r/architecture-sprint-10/blob/sprint_10/Task1/Запись_пациентов_ToBe.png)

 - Оплата услуг
    [Ссылка на схему](https://github.com/noisegrind3r/architecture-sprint-10/blob/sprint_10/Task1/Оплата_услуг_ToBe.png)

 - Лабораторные анализы
    [Ссылка на схему](https://github.com/noisegrind3r/architecture-sprint-10/blob/sprint_10/Task1/Лабораторные_анализы_ToBe.png)

 - Учет ТМЦ
    [Ссылка на схему](https://github.com/noisegrind3r/architecture-sprint-10/blob/sprint_10/Task1/Учет_ТМЦ_ToBe.png)
